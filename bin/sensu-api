#!/usr/bin/env ruby

platform = RUBY_PLATFORM.downcase
raise "The Sensu API does not run on Windows" if platform.include?('mswin32') || platform.include?('mingw32')

$: << File.dirname(__FILE__) + '/../lib' unless $:.include?(File.dirname(__FILE__) + '/../lib/')
require 'sensu/api'

options = Sensu::Config.read_arguments(ARGV)
Sensu::API.run(options)
